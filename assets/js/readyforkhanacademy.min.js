/* /? [- /\ |) `/   /= () /?   /< |-| /\ |\| /\ ( /\ |) [- |\/| `/ 2014-07-28 */
!function(a,b){"use strict";function c(){o||(requestAnimationFrame(d),o=!0)}function d(){e.forEach(function(a,b){var c=n+-j*(b+1)+i,d=f-g*b,e=0,m=Math.abs(c)-1500;c>-l&&j>c&&(e=(c+l)/j*90),a.style.opacity=k>m?1-m/k:0,a.style[p]="translate3d("+h+"px ,"+d+"px,"+c+"px) rotateY("+e+"deg)"}),o=!1}!function(a,c){function d(b,c,d,h){b[e](g+c,"wheel"==f?d:function(b){!b&&(b=a.event);var c={originalEvent:b,target:b.target||b.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==b.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){b.preventDefault?b.preventDefault():b.returnValue=!1}};return"mousewheel"==f?(c.deltaY=-1/40*b.wheelDelta,b.wheelDeltaX&&(c.deltaX=-1/40*b.wheelDeltaX)):c.deltaY=b.detail,d(c)},h||!1)}var e,f,g="";a.addEventListener?e="addEventListener":(e="attachEvent",g="on"),f="onwheel"in c.createElement("div")?"wheel":c.onmousewheel!==b?"mousewheel":"DOMMouseScroll",a.addWheelListener=function(a,b,c){d(a,f,b,c),"DOMMouseScroll"==f&&(console.log("DOMMouseScroll"),d(a,"MozMousePixelScroll",b,c))}}(a,document),function(){for(var b=0,c=["ms","moz","webkit","o"],d=0;d<c.length&&!a.requestAnimationFrame;++d)a.requestAnimationFrame=a[c[d]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[d]+"CancelAnimationFrame"]||a[c[d]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)})}();var e=Array.prototype.slice.call(document.querySelectorAll("#world > div")),f=0,g=0,h=0,i=0,j=3e3,k=19e3,l=1500,m=1,n=1e3,o=!1,p=Modernizr.prefixed("transform");addWheelListener(a,function(a){i+=a.deltaY*m,c()}),requestAnimationFrame(d)}(this);